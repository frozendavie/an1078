Version 4
SHEET 1 880 680
WIRE 464 -128 272 -128
WIRE 592 -128 464 -128
WIRE 464 -32 464 -128
WIRE 592 -32 592 -128
WIRE 80 -16 32 -16
WIRE 272 -16 272 -128
WIRE 272 -16 160 -16
WIRE 272 16 272 -16
WIRE 32 64 32 -16
WIRE 128 64 32 64
WIRE 208 64 128 64
WIRE 592 80 592 48
WIRE 128 160 128 64
WIRE 176 160 128 160
WIRE 272 160 272 112
WIRE 272 160 240 160
WIRE 336 160 272 160
WIRE 464 160 464 48
WIRE 464 160 416 160
WIRE 544 160 464 160
WIRE -192 176 -288 176
WIRE -32 176 -112 176
WIRE 32 192 32 64
WIRE -288 208 -288 176
WIRE 464 224 464 160
WIRE 720 224 464 224
WIRE -32 240 -32 176
WIRE -288 320 -288 288
WIRE 32 320 32 288
WIRE 32 320 -288 320
WIRE 592 320 592 176
WIRE 592 320 32 320
WIRE 32 352 32 320
FLAG 32 352 0
SYMBOL npn -32 192 R0
SYMATTR InstName Q1
SYMBOL npn 208 16 R0
SYMATTR InstName Q2
SYMBOL res 176 -32 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R1
SYMATTR Value 1.8K
SYMBOL voltage 592 -48 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V1
SYMATTR Value 12
SYMBOL res 432 144 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R2
SYMATTR Value 10
SYMBOL res 448 -48 R0
SYMATTR InstName R3
SYMATTR Value 18K
SYMBOL pmos 544 80 R0
SYMATTR InstName M1
SYMBOL voltage -288 192 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V2
SYMATTR Value PULSE(0 3.3 0.1 0 0 0.1 0.2)
SYMBOL diode 240 144 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName D1
SYMBOL res -96 160 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R4
SYMATTR Value 1K
TEXT -320 376 Left 2 !.tran 1s
